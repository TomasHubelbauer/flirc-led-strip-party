#!/bin/bash

# Note that these were captured using Flirc GUI > File > Device Log
RED="0,9444,4445,640,478,640,483,640,478,641,482,640,478,641,478,641,482,640,478,641,1591,640,1591,640,1591,640,1587,640,482,641,1590,641,1586,641,1590,641,482,636,483,640,1591,640,478,641,478,640,483,640,496,622,483,636,1591,640,1591,640,478,641,1591,640,1591,641,1590,641,1586,640,1591,640"
GREEN="0,9412,4443,641,478,640,478,640,482,641,478,640,482,636,482,641,477,641,482,636,1591,640,1591,636,1590,641,1590,636,482,637,1590,640,1591,636,1590,641,1586,640,478,640,1591,636,478,640,478,640,478,636,483,636,482,636,478,640,1586,640,478,641,1590,637,1590,641,1586,641,1590,641,1586,640"
BLUE="0,9409,4444,641,478,640,478,640,482,637,477,641,482,636,478,641,478,640,478,641,1586,641,1590,636,1591,636,1591,636,487,631,1591,640,1591,636,1591,636,482,636,1591,640,1591,641,482,636,482,636,483,636,482,636,483,636,1590,641,478,640,478,636,1591,641,1590,641,1590,641,1586,641,1591,636"
WHITE="0,9362,4440,645,474,640,478,636,478,640,474,641,477,637,478,640,474,640,478,640,1582,641,1586,640,1586,641,1589,638,473,641,1586,640,1582,641,1586,640,1587,640,1582,645,1581,641,478,640,474,640,474,640,478,636,478,640,474,640,474,640,478,636,1586,641,1586,641,1582,640,1586,641,1586,641"
COLORS=($RED $GREEN $BLUE $WHITE)

# Replace this with the directory where flirc_util is if different
cd /Applications/Flirc.app/Contents/Resources

# Break the infinite loop using Ctrl+C
while :
do
  COLOR=${COLORS[$RANDOM % ${#COLORS[@]}]}
  ./flirc_util sendir --pattern="$COLOR"
done
